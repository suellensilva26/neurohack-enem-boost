export interface ChecklistItem {
  id: string;
  title: string;
  description: string;
  category: string;
  importance: 'critical' | 'high' | 'medium' | 'low';
  frequency: number; // Percentual de recorr√™ncia no ENEM (0-100)
  completed: boolean;
  estimatedTime: number; // Em minutos
  prerequisites?: string[];
  tips?: string[];
}

export interface SubjectChecklist {
  id: string;
  name: string;
  icon: string;
  color: string;
  totalItems: number;
  completedItems: number;
  criticalItems: number;
  items: ChecklistItem[];
}

export const checklistData: SubjectChecklist[] = [
  {
    id: 'matematica',
    name: 'Matem√°tica',
    icon: 'üìê',
    color: 'bg-blue-500',
    totalItems: 25,
    completedItems: 0,
    criticalItems: 8,
    items: [
      {
        id: 'math-1',
        title: 'Fun√ß√µes do 1¬∫ Grau',
        description: 'Defini√ß√£o, gr√°fico, coeficiente angular e linear',
        category: '√Ålgebra',
        importance: 'critical',
        frequency: 95,
        completed: false,
        estimatedTime: 45,
        tips: ['Foque em interpreta√ß√£o gr√°fica', 'Pratique problemas de aplica√ß√£o']
      },
      {
        id: 'math-2',
        title: 'Fun√ß√µes do 2¬∫ Grau',
        description: 'Par√°bola, v√©rtice, ra√≠zes, m√°ximo e m√≠nimo',
        category: '√Ålgebra',
        importance: 'critical',
        frequency: 90,
        completed: false,
        estimatedTime: 60,
        tips: ['Domine a f√≥rmula do v√©rtice', 'Pratique problemas de otimiza√ß√£o']
      },
      {
        id: 'math-3',
        title: 'Geometria Plana',
        description: '√Åreas e per√≠metros de figuras planas',
        category: 'Geometria',
        importance: 'critical',
        frequency: 85,
        completed: false,
        estimatedTime: 90,
        tips: ['Memorize f√≥rmulas principais', 'Pratique decomposi√ß√£o de figuras']
      },
      {
        id: 'math-4',
        title: 'Geometria Espacial',
        description: 'Volumes de s√≥lidos geom√©tricos',
        category: 'Geometria',
        importance: 'high',
        frequency: 75,
        completed: false,
        estimatedTime: 60,
        tips: ['Foque em cilindro, cone e esfera', 'Pratique problemas pr√°ticos']
      },
      {
        id: 'math-5',
        title: 'Probabilidade',
        description: 'Eventos, espa√ßo amostral, probabilidade condicional',
        category: 'Estat√≠stica',
        importance: 'high',
        frequency: 80,
        completed: false,
        estimatedTime: 45,
        tips: ['Domine princ√≠pio fundamental da contagem', 'Pratique problemas de an√°lise combinat√≥ria']
      },
      {
        id: 'math-6',
        title: 'Estat√≠stica B√°sica',
        description: 'M√©dia, mediana, moda, desvio padr√£o',
        category: 'Estat√≠stica',
        importance: 'high',
        frequency: 70,
        completed: false,
        estimatedTime: 30,
        tips: ['Foque na interpreta√ß√£o de dados', 'Pratique an√°lise de gr√°ficos']
      },
      {
        id: 'math-7',
        title: 'Progress√µes Aritm√©ticas',
        description: 'Termo geral, soma dos termos',
        category: '√Ålgebra',
        importance: 'medium',
        frequency: 60,
        completed: false,
        estimatedTime: 30,
        tips: ['Memorize f√≥rmula do termo geral', 'Pratique problemas de aplica√ß√£o']
      },
      {
        id: 'math-8',
        title: 'Progress√µes Geom√©tricas',
        description: 'Termo geral, soma dos termos, soma infinita',
        category: '√Ålgebra',
        importance: 'medium',
        frequency: 55,
        completed: false,
        estimatedTime: 35,
        tips: ['Entenda o conceito de raz√£o', 'Pratique problemas financeiros']
      }
    ]
  },
  {
    id: 'portugues',
    name: 'Portugu√™s',
    icon: 'üìö',
    color: 'bg-green-500',
    totalItems: 20,
    completedItems: 0,
    criticalItems: 6,
    items: [
      {
        id: 'port-1',
        title: 'Figuras de Linguagem',
        description: 'Met√°fora, meton√≠mia, hip√©rbole, ironia, ant√≠tese',
        category: 'Literatura',
        importance: 'critical',
        frequency: 90,
        completed: false,
        estimatedTime: 40,
        tips: ['Foque na diferen√ßa entre denota√ß√£o e conota√ß√£o', 'Pratique identifica√ß√£o em textos']
      },
      {
        id: 'port-2',
        title: 'Fun√ß√µes da Linguagem',
        description: 'Referencial, emotiva, conativa, metalingu√≠stica, f√°tica, po√©tica',
        category: 'Lingu√≠stica',
        importance: 'critical',
        frequency: 85,
        completed: false,
        estimatedTime: 35,
        tips: ['Memorize os elementos do circuito da comunica√ß√£o', 'Pratique an√°lise de textos']
      },
      {
        id: 'port-3',
        title: 'Varia√ß√£o Lingu√≠stica',
        description: 'Geogr√°fica, social, hist√≥rica, situacional',
        category: 'Lingu√≠stica',
        importance: 'high',
        frequency: 75,
        completed: false,
        estimatedTime: 30,
        tips: ['Entenda o preconceito lingu√≠stico', 'Pratique an√°lise de textos regionais']
      },
      {
        id: 'port-4',
        title: 'Per√≠odos Compostos',
        description: 'Coordena√ß√£o e subordina√ß√£o, pontua√ß√£o',
        category: 'Gram√°tica',
        importance: 'high',
        frequency: 80,
        completed: false,
        estimatedTime: 45,
        tips: ['Domine as conjun√ß√µes principais', 'Pratique an√°lise sint√°tica']
      },
      {
        id: 'port-5',
        title: 'Crase',
        description: 'Regras de uso, casos obrigat√≥rios e proibidos',
        category: 'Gram√°tica',
        importance: 'medium',
        frequency: 65,
        completed: false,
        estimatedTime: 25,
        tips: ['Memorize as regras principais', 'Pratique com exerc√≠cios espec√≠ficos']
      }
    ]
  },
  {
    id: 'biologia',
    name: 'Biologia',
    icon: 'üß¨',
    color: 'bg-emerald-500',
    totalItems: 18,
    completedItems: 0,
    criticalItems: 7,
    items: [
      {
        id: 'bio-1',
        title: 'Evolu√ß√£o',
        description: 'Teoria de Darwin, sele√ß√£o natural, evid√™ncias',
        category: 'Evolu√ß√£o',
        importance: 'critical',
        frequency: 90,
        completed: false,
        estimatedTime: 50,
        tips: ['Entenda a diferen√ßa entre evolu√ß√£o e adapta√ß√£o', 'Pratique com quest√µes de gen√©tica']
      },
      {
        id: 'bio-2',
        title: 'Gen√©tica',
        description: 'Leis de Mendel, heran√ßa, DNA, RNA',
        category: 'Gen√©tica',
        importance: 'critical',
        frequency: 85,
        completed: false,
        estimatedTime: 60,
        tips: ['Domine os cruzamentos mendelianos', 'Pratique problemas de heran√ßa']
      },
      {
        id: 'bio-3',
        title: 'Ecologia',
        description: 'Cadeias alimentares, ciclos biogeoqu√≠micos, sustentabilidade',
        category: 'Ecologia',
        importance: 'critical',
        frequency: 80,
        completed: false,
        estimatedTime: 45,
        tips: ['Foque em problemas ambientais atuais', 'Entenda os ciclos da natureza']
      },
      {
        id: 'bio-4',
        title: 'Fisiologia Humana',
        description: 'Sistemas digest√≥rio, respirat√≥rio, circulat√≥rio',
        category: 'Fisiologia',
        importance: 'high',
        frequency: 75,
        completed: false,
        estimatedTime: 55,
        tips: ['Relacione com problemas de sa√∫de', 'Pratique com quest√µes interdisciplinares']
      }
    ]
  },
  {
    id: 'quimica',
    name: 'Qu√≠mica',
    icon: '‚öóÔ∏è',
    color: 'bg-purple-500',
    totalItems: 16,
    completedItems: 0,
    criticalItems: 6,
    items: [
      {
        id: 'chem-1',
        title: 'Estequiometria',
        description: 'C√°lculos com mol, massa molar, rendimento',
        category: 'Qu√≠mica Geral',
        importance: 'critical',
        frequency: 85,
        completed: false,
        estimatedTime: 60,
        tips: ['Domine o conceito de mol', 'Pratique com problemas de balanceamento']
      },
      {
        id: 'chem-2',
        title: 'Liga√ß√µes Qu√≠micas',
        description: 'I√¥nica, covalente, met√°lica, propriedades',
        category: 'Qu√≠mica Geral',
        importance: 'critical',
        frequency: 80,
        completed: false,
        estimatedTime: 45,
        tips: ['Entenda a eletronegatividade', 'Pratique com a tabela peri√≥dica']
      },
      {
        id: 'chem-3',
        title: 'Qu√≠mica Org√¢nica',
        description: 'Fun√ß√µes org√¢nicas, nomenclatura, rea√ß√µes',
        category: 'Qu√≠mica Org√¢nica',
        importance: 'high',
        frequency: 75,
        completed: false,
        estimatedTime: 70,
        tips: ['Memorize as fun√ß√µes principais', 'Pratique nomenclatura IUPAC']
      }
    ]
  },
  {
    id: 'fisica',
    name: 'F√≠sica',
    icon: '‚ö°',
    color: 'bg-red-500',
    totalItems: 15,
    completedItems: 0,
    criticalItems: 5,
    items: [
      {
        id: 'phys-1',
        title: 'Mec√¢nica',
        description: 'Movimento uniforme, acelera√ß√£o, for√ßas',
        category: 'Mec√¢nica',
        importance: 'critical',
        frequency: 90,
        completed: false,
        estimatedTime: 70,
        tips: ['Domine as equa√ß√µes do movimento', 'Pratique com problemas gr√°ficos']
      },
      {
        id: 'phys-2',
        title: 'Eletricidade',
        description: 'Corrente el√©trica, resist√™ncia, pot√™ncia',
        category: 'Eletricidade',
        importance: 'critical',
        frequency: 80,
        completed: false,
        estimatedTime: 55,
        tips: ['Entenda a Lei de Ohm', 'Pratique circuitos el√©tricos']
      },
      {
        id: 'phys-3',
        title: '√ìptica',
        description: 'Reflex√£o, refra√ß√£o, lentes, espelhos',
        category: '√ìptica',
        importance: 'high',
        frequency: 70,
        completed: false,
        estimatedTime: 45,
        tips: ['Domine as leis da reflex√£o e refra√ß√£o', 'Pratique com constru√ß√£o de imagens']
      }
    ]
  },
  {
    id: 'historia',
    name: 'Hist√≥ria',
    icon: 'üèõÔ∏è',
    color: 'bg-amber-500',
    totalItems: 22,
    completedItems: 0,
    criticalItems: 8,
    items: [
      {
        id: 'hist-1',
        title: 'Brasil Col√¥nia',
        description: 'Capitanias heredit√°rias, escravid√£o, economia a√ßucareira',
        category: 'Hist√≥ria do Brasil',
        importance: 'critical',
        frequency: 85,
        completed: false,
        estimatedTime: 40,
        tips: ['Foque na estrutura social', 'Pratique com quest√µes de economia']
      },
      {
        id: 'hist-2',
        title: 'Brasil Imp√©rio',
        description: 'Independ√™ncia, primeiro e segundo reinado',
        category: 'Hist√≥ria do Brasil',
        importance: 'critical',
        frequency: 80,
        completed: false,
        estimatedTime: 45,
        tips: ['Entenda o processo de independ√™ncia', 'Pratique com quest√µes pol√≠ticas']
      },
      {
        id: 'hist-3',
        title: 'Brasil Rep√∫blica',
        description: 'Rep√∫blica Velha, Era Vargas, Ditadura Militar',
        category: 'Hist√≥ria do Brasil',
        importance: 'critical',
        frequency: 75,
        completed: false,
        estimatedTime: 50,
        tips: ['Foque nas transforma√ß√µes pol√≠ticas', 'Pratique com quest√µes sociais']
      }
    ]
  },
  {
    id: 'geografia',
    name: 'Geografia',
    icon: 'üåç',
    color: 'bg-cyan-500',
    totalItems: 20,
    completedItems: 0,
    criticalItems: 7,
    items: [
      {
        id: 'geo-1',
        title: 'Geografia F√≠sica',
        description: 'Clima, vegeta√ß√£o, relevo, hidrografia',
        category: 'Geografia F√≠sica',
        importance: 'critical',
        frequency: 85,
        completed: false,
        estimatedTime: 50,
        tips: ['Domine os biomas brasileiros', 'Pratique com mapas']
      },
      {
        id: 'geo-2',
        title: 'Geografia Humana',
        description: 'Popula√ß√£o, urbaniza√ß√£o, migra√ß√µes',
        category: 'Geografia Humana',
        importance: 'critical',
        frequency: 80,
        completed: false,
        estimatedTime: 45,
        tips: ['Foque em problemas urbanos', 'Pratique com dados estat√≠sticos']
      },
      {
        id: 'geo-3',
        title: 'Geografia Econ√¥mica',
        description: 'Setores da economia, globaliza√ß√£o, desigualdades',
        category: 'Geografia Econ√¥mica',
        importance: 'high',
        frequency: 75,
        completed: false,
        estimatedTime: 40,
        tips: ['Entenda a divis√£o internacional do trabalho', 'Pratique com quest√µes de atualidade']
      }
    ]
  }
];

// Fun√ß√£o para calcular progresso por mat√©ria
export const calculateSubjectProgress = (subject: SubjectChecklist): number => {
  const completed = subject.items.filter(item => item.completed).length;
  return Math.round((completed / subject.items.length) * 100);
};

// Fun√ß√£o para calcular progresso geral
export const calculateOverallProgress = (subjects: SubjectChecklist[]): number => {
  const totalItems = subjects.reduce((acc, subject) => acc + subject.items.length, 0);
  const completedItems = subjects.reduce((acc, subject) => 
    acc + subject.items.filter(item => item.completed).length, 0
  );
  return Math.round((completedItems / totalItems) * 100);
};

// Fun√ß√£o para obter itens cr√≠ticos pendentes
export const getCriticalPendingItems = (subjects: SubjectChecklist[]): ChecklistItem[] => {
  return subjects.flatMap(subject => 
    subject.items.filter(item => !item.completed && item.importance === 'critical')
  );
};

// Fun√ß√£o para obter pr√≥ximos itens recomendados
export const getRecommendedItems = (subjects: SubjectChecklist[], limit: number = 5): ChecklistItem[] => {
  const allItems = subjects.flatMap(subject => subject.items);
  const pendingItems = allItems.filter(item => !item.completed);
  
  // Ordenar por import√¢ncia e frequ√™ncia
  return pendingItems
    .sort((a, b) => {
      const importanceWeight = { critical: 4, high: 3, medium: 2, low: 1 };
      const aWeight = importanceWeight[a.importance] + (a.frequency / 100);
      const bWeight = importanceWeight[b.importance] + (b.frequency / 100);
      return bWeight - aWeight;
    })
    .slice(0, limit);
};


