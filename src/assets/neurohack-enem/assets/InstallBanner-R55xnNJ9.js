import{j as e,a2 as a,a3 as t}from"./ui-CrYyYaxT.js";import{r as i}from"./vendor-rodsj_b4.js";import{B as n}from"./index-BzZWAwwb.js";const s="install_banner_hidden_until";const r=({onClose:r})=>{const[o,l]=i.useState(null),[c,d]=i.useState(!1);i.useEffect(()=>{const e=localStorage.getItem(s),a=!!e&&Date.now()<Number(e);window.matchMedia("(display-mode: standalone)").matches||navigator.standalone||a||d(!0);const t=e=>{e.preventDefault(),l(e)};return window.addEventListener("beforeinstallprompt",t),()=>window.removeEventListener("beforeinstallprompt",t)},[]);return e.jsx(a,{children:c&&e.jsx(t.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{type:"spring",stiffness:300,damping:25},className:"fixed bottom-4 right-4 z-50","aria-live":"polite",children:e.jsxs("div",{className:"border rounded-xl bg-card shadow-lg p-4 w-[320px]",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"font-bold",children:"Instale o app NeuroHack ENEM"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesso offline, desempenho máximo e experiência premium."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{onClick:async()=>{if(!o)return void alert("Para instalar: Compartilhar > Adicionar à Tela de Início.");o.prompt();"accepted"===(await o.userChoice).outcome&&d(!1)},"aria-label":"Instalar aplicação",children:"Instalar App"}),e.jsx(n,{variant:"outline",onClick:()=>{const e=Date.now()+6048e5;localStorage.setItem(s,String(e)),d(!1),r?.()},"aria-label":"Fechar banner",children:"Fechar"})]})]})})})};export{r as I};
